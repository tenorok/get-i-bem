/*!
 * @file i-bem â€” library to write client side with BEM methodology
 * @version 3.5.1
 * @tutorial https://ru.bem.info/libs/bem-core/v2.5.1/desktop/i-bem/
 * @link https://github.com/bem-node/i-bem-doc
 */
!function(a){a.modules={define:function(a,b,c){void 0===c&&(c=b,b=[]),this._definePool[a]={deps:b,body:c}},require:function(b,c){this._provideAllModules();var d,e,f,g=this._definePool,h=[];for(e=0,f=b.length;f>e;e++)d=g[b[e]],d.provide||this._provideModule(b[e]),h.push(d.provide);c.apply(a,h)},_definePool:{},_provideAllModules:function(){var a,b=this._definePool;for(a in b)b.hasOwnProperty(a)&&this._provideModule(a)},_provideModule:function(b){var c,d,e,f=this._definePool,g=f[b],h=g.deps,i=[];for(d=0,e=h.length;e>d;d++)c=f[h[d]],c.provide||this._provideModule(h[d]),i.push(c.provide);g.body.apply({name:b,deps:h,global:a},[function(a){f[b].provide=a}].concat(i))}}}(this),function(a){function b(a){var b=j(a);if(p)for(var c,d=0;c=s[d++];)a.hasOwnProperty(c)&&b.push(c);return b}function c(a,c,d){for(var e,g,h=b(d),i=0,j=h.length;j>i;)"__self"!==(e=h[i++])&&(g=d[e],c[e]=n(g)&&(!f||g.toString().indexOf(".__base")>-1)?function(b,d){var e=a[b]?a[b]:"__constructor"===b?c.__self.__parent:o;return function(){var a=this.__base;this.__base=e;var b=d.apply(this,arguments);return this.__base=a,b}}(e,g):g)}function d(a,b){for(var c,d=1;c=a[d++];)b?n(c)?e.self(b,c.prototype,c):e.self(b,c):b=n(c)?e(a[0],c.prototype,c):e(a[0],c);return b||a[0]}function e(){var a=arguments,b=m(a[0]),e=b||n(a[0]),f=e?b?d(a[0]):a[0]:g,h=a[e?1:0]||{},j=a[e?2:1],l=h.__constructor||e&&f.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:e?function(){return f.apply(this,arguments)}:function(){};if(!e)return l.prototype=h,l.prototype.__self=l.prototype.constructor=l,k(l,j);k(l,f),l.__parent=f;var o=f.prototype,p=l.prototype=i(o);return p.__self=p.constructor=l,h&&c(o,p,h),j&&c(f,l,j),l}var f=function(){"_"}.toString().indexOf("_")>-1,g=function(){},h=Object.prototype.hasOwnProperty,i=Object.create||function(a){var b=function(){};return b.prototype=a,new b},j=Object.keys||function(a){var b=[];for(var c in a)h.call(a,c)&&b.push(c);return b},k=function(a,b){for(var c in b)h.call(b,c)&&(a[c]=b[c]);return a},l=Object.prototype.toString,m=Array.isArray||function(a){return"[object Array]"===l.call(a)},n=function(a){return"[object Function]"===l.call(a)},o=function(){},p=!0,q={toString:""};for(var r in q)q.hasOwnProperty(r)&&(p=!1);var s=p?["toString","valueOf"]:null;e.self=function(){var a=arguments,b=m(a[0]),e=b?d(a[0],a[0][0]):a[0],f=a[1],g=a[2],h=e.prototype;return f&&c(h,h,f),g&&c(e,e,g),e};var t=!0;"object"==typeof exports&&(module.exports=e,t=!1),"object"==typeof modules&&(modules.define("inherit",function(a){a(e)}),t=!1),"function"==typeof define&&(define(function(a,b,c){c.exports=e}),t=!1),t&&(a.inherit=e)}(this),modules.define("identify",function(a){var b=0,c="__"+ +new Date,d=function(){return"uniq"+ ++b};a(function(a,b){if(!a)return d();var e="uniqueID"in a?"uniqueID":c;return b||e in a?a[e]:a[e]=d()})}),modules.define("next-tick",function(a){var b=this.global,c=[],d=function(a){return 1===c.push(a)},e=function(){var a=c,b=0,d=c.length;for(c=[];d>b;)a[b++]()};if("object"==typeof process&&process.nextTick)return a(function(a){d(a)&&process.nextTick(e)});if(b.setImmediate)return a(function(a){d(a)&&b.setImmediate(e)});if(b.postMessage){var f=!0;if(b.attachEvent){var g=function(){f=!1};b.attachEvent("onmessage",g),b.postMessage("__checkAsync","*"),b.detachEvent("onmessage",g)}if(f){var h="__nextTick"+ +new Date,i=function(a){a.data===h&&(a.stopPropagation&&a.stopPropagation(),e())};return b.addEventListener?b.addEventListener("message",i,!0):b.attachEvent("onmessage",i),a(function(a){d(a)&&b.postMessage(h,"*")})}}var j=b.document;if("onreadystatechange"in j.createElement("script")){var k=j.getElementsByTagName("head")[0],l=function(){var a=j.createElement("script");a.onreadystatechange=function(){a.parentNode.removeChild(a),a=a.onreadystatechange=null,e()},k.appendChild(a)};return a(function(a){d(a)&&l()})}a(function(a){d(a)&&b.setTimeout(e,0)})}),modules.define("objects",function(a){var b=Object.prototype.hasOwnProperty;a({extend:function(a){"object"!=typeof a&&(a={});for(var c=1,d=arguments.length;d>c;c++){var e=arguments[c];if(e)for(var f in e)b.call(e,f)&&(a[f]=e[f])}return a},isEmpty:function(a){for(var c in a)if(b.call(a,c))return!1;return!0},each:function(a,c,d){for(var e in a)b.call(a,e)&&(d?c.call(d,a[e],e):c(a[e],e))}})}),modules.define("functions",function(a){var b=Object.prototype.toString;a({isFunction:function(a){return"[object Function]"===b.call(a)},noop:function(){}})}),modules.define("events",["identify","inherit","functions"],function(a,b,c,d){var e,f="__"+ +new Date+"storage",g=function(a,c){return b(a)+(c?b(c):"")},h=c({__constructor:function(a,b){this.type=a,this.target=b,this.result=e,this.data=e,this._isDefaultPrevented=!1,this._isPropagationStopped=!1},preventDefault:function(){this._isDefaultPrevented=!0},isDefaultPrevented:function(){return this._isDefaultPrevented},stopPropagation:function(){this._isPropagationStopped=!0},isPropagationStopped:function(){return this._isPropagationStopped}}),i={on:function(a,b,c,h,i){if("string"==typeof a){d.isFunction(b)&&(h=c,c=b,b=e);for(var j,k,l,m,n=g(c,h),o=this[f]||(this[f]={}),p=a.split(" "),q=0;j=p[q++];)m=o[j]||(o[j]={ids:{},list:{}}),n in m.ids||(k=m.list,l={fn:c,data:b,ctx:h,special:i},k.last?(k.last.next=l,l.prev=k.last):k.first=l,m.ids[n]=k.last=l)}else for(var r in a)a.hasOwnProperty(r)&&this.on(r,a[r],b,i);return this},once:function(a,b,c,d){return this.on(a,b,c,d,{once:!0})},un:function(a,b,c){if("string"==typeof a||"undefined"==typeof a){var d=this[f];if(d)if(a){for(var e,h=a.split(" "),i=0;a=h[i++];)if(e=d[a])if(b){var j=g(b,c),k=e.ids;if(j in k){var l=e.list,m=k[j],n=m.prev,o=m.next;n?n.next=o:m===l.first&&(l.first=o),o?o.prev=n:m===l.last&&(l.last=n),delete k[j]}}else delete this[f][a]}else delete this[f]}else for(var p in a)a.hasOwnProperty(p)&&this.un(p,a[p],b);return this},emit:function(a){var b=this[f],c=!1;if(b)for(var d,e,g=["string"==typeof a?a:a.type,"*"],i=0;d=g[i++];)if(e=b[d])for(var j,k=e.list.first,l=e.list.last;k&&(c||(c=!0,"string"==typeof a&&(a=new h(a)),a.target||(a.target=this)),a.data=k.data,j=k.fn.apply(k.ctx||this,arguments),"undefined"!=typeof j&&(a.result=j,j===!1&&(a.preventDefault(),a.stopPropagation())),k.special&&k.special.once&&this.un(a.type,k.fn,k.ctx),k!==l);)k=k.next;return this}},j=c(i,i);a({Emitter:j,Event:h})}),modules.define("i-bem__internal",function(a){function b(a){var b=typeof a;return"string"===b||"number"===b||"boolean"===b}function c(a,b){var c="";return null!=b&&b!==!1&&(c+=g+a,b!==!0&&(c+=g+b)),c}function d(a,b,d){return a+c(b,d)}function e(a,b,e,g){return d(a,f,f)+h+b+c(e,g)}var f,g="_",h="__",i="[a-zA-Z0-9-]+";a({NAME_PATTERN:i,MOD_DELIM:g,ELEM_DELIM:h,buildModPostfix:c,buildClass:function(a,c,g,h){return b(g)?b(h)||(h=g,g=c,c=f):"undefined"!=typeof g?g=f:c&&"string"!=typeof c&&(c=f),c||g?c?e(a,c,g,h):d(a,g,h):a},buildClasses:function(a,b,c){b&&"string"!=typeof b&&(c=b,b=f);var g=b?e(a,b,f,f):d(a,f,f);if(c)for(var h in c)c.hasOwnProperty(h)&&c[h]&&(g+=" "+(b?e(a,b,h,c[h]):d(a,h,c[h])));return g}})}),modules.define("i-bem",["i-bem__internal","inherit","identify","next-tick","objects","functions","events"],function(a,b,c,d,e,f,g,h){function i(a,b,c,d){return"__"+a+(d?"__elem_"+d:"")+"__mod"+(b?"_"+b:"")+(c?"_"+c:"")}function j(a,b,c,d){if(g.isFunction(b))c[i(a,"*","*",d)]=b;else{var e,f,h;for(e in b)if(b.hasOwnProperty(e))if(h=b[e],g.isFunction(h))c[i(a,e,"*",d)]=h;else for(f in h)h.hasOwnProperty(f)&&(c[i(a,e,f,d)]=h[f])}}function k(a,b){return b?Array.isArray(b)?function(c){for(var d=0,e=b.length;e>d;)if(c.hasMod(a,b[d++]))return!0;return!1}:function(c){return c.hasMod(a,b)}:function(b){return b.hasMod(a)}}function l(a){a.beforeSetMod&&(j("before",a.beforeSetMod,a),delete a.beforeSetMod),a.onSetMod&&(j("after",a.onSetMod,a),delete a.onSetMod);var b;if(a.beforeElemSetMod){for(b in a.beforeElemSetMod)a.beforeElemSetMod.hasOwnProperty(b)&&j("before",a.beforeElemSetMod[b],a,b);delete a.beforeElemSetMod}if(a.onElemSetMod){for(b in a.onElemSetMod)a.onElemSetMod.hasOwnProperty(b)&&j("after",a.onElemSetMod[b],a,b);delete a.onElemSetMod}}var m,n=b.MOD_DELIM,o=b.ELEM_DELIM,p=[],q={},r=c(h.Emitter,{__constructor:function(a,b,c){this._modCache=a||{},this._processingMods={},this.params=f.extend(this.getDefaultParams(),b),c!==!1?this._init():p.push(this._init,this)},_init:function(){return this.setMod("js","inited")},on:function(a,b,c){return"object"==typeof a&&(g.isFunction(b)||g.isFunction(c))&&(a=this.__self._buildModEventName(a)),this.__base.apply(this,arguments)},un:function(a,b){return"object"==typeof a&&g.isFunction(b)&&(a=this.__self._buildModEventName(a)),this.__base.apply(this,arguments)},emit:function(a,b){var c=!1;return"object"!=typeof a||a instanceof h.Event||(c="js"===a.modName,a=this.__self._buildModEventName(a)),(c||this.hasMod("js","inited"))&&(this.__base(a=this._buildEvent(a),b),this._ctxEmit(a,b)),this},_ctxEmit:function(a,b){this.__self.emit(a,b)},_buildEvent:function(a){return"string"==typeof a?a=new h.Event(a,this):a.target||(a.target=this),a},hasMod:function(a,b,c){var d=arguments.length,e=!1;1===d?(c="",b=a,a=m,e=!0):2===d&&("string"==typeof a?(c=b,b=a,a=m):(c="",e=!0));var f=this.getMod(a,b)===c;return e?!f:f},getMod:function(a,b){var c=typeof a;if("string"===c||"undefined"===c){b=a||b;var d=this._modCache;return b in d?d[b]||"":d[b]=this._extractModVal(b)}return this._getElemMod(b,a)},_getElemMod:function(a,b,c){return this._extractModVal(a,b,c)},getMods:function(a){var b=a&&"string"!=typeof a,c=[].slice.call(arguments,b?1:0),d=this._extractMods(c,b?a:m);return b||(c.length?c.forEach(function(a){this._modCache[a]=d[a]},this):this._modCache=d),d},setMod:function(a,b,c){if("undefined"==typeof c&&("string"==typeof a?(c="undefined"==typeof b?!0:b,b=a,a=m):c=!0),!a||a[0]){c===!1&&(c="");var e=(a&&a[0]?d(a[0]):"")+"_"+b;if(this._processingMods[e])return this;var f,g=a?this._getElemMod(b,a,f=this.__self._extractElemNameFrom(a)):this.getMod(b);if(g===c)return this;this._processingMods[e]=!0;var h=!0,i=[b,c,g];a&&i.unshift(a);for(var j,k,l,n=[["*","*"],[b,"*"],[b,c]],o=["before","after"],p=0;j=o[p++];){for(k=0;l=n[k++];)if(this._callModFn(j,f,l[0],l[1],i)===!1){h=!1;break}if(!h)break;"before"===j&&(a||(this._modCache[b]=c),this._onSetMod(b,c,g,a,f))}this._processingMods[e]=null,h&&this._emitModChangeEvents(b,c,g,a,f)}return this},_onSetMod:function(){},_emitModChangeEvents:function(a,b,c,d,e){var f={modName:a,modVal:b,oldModVal:c};d&&(f.elem=d),this.emit({modName:a,modVal:"*",elem:e},f).emit({modName:a,modVal:b,elem:e},f)},toggleMod:function(a,b,c,d,e){"string"==typeof a&&(e=d,d=c,c=b,b=a,a=m),"undefined"==typeof c&&(c=!0),"undefined"==typeof d?d="":"boolean"==typeof d&&(e=d,d="");var f=this.getMod(a,b);return(f===c||f===d)&&this.setMod(a,b,"boolean"==typeof e?e?c:d:this.hasMod(a,b,c)?d:c),this},delMod:function(a,b){return b||(b=a,a=m),this.setMod(a,b,"")},_callModFn:function(a,b,c,d,e){var f=i(a,c,d,b);return this[f]?this[f].apply(this,e):m},_extractModVal:function(){return""},_extractMods:function(){return{}},getDefaultParams:function(){return{}},_destruct:function(){this.delMod("js")},nextTick:function(a){var b=this;return e(function(){b.hasMod("js","inited")&&a.call(b)}),this}},{_name:"i-bem",blocks:q,decl:function(a,b,d){"string"==typeof a&&(a={block:a}),arguments.length<=2&&"object"==typeof a&&(!a||"string"!=typeof a.block&&"string"!=typeof a.modName)&&(d=b,b=a,a={}),"undefined"==typeof a.block&&(a.block=this.getName());var e;if("undefined"==typeof a.baseBlock)e=q[a.block]||this;else if("string"==typeof a.baseBlock){if(e=q[a.baseBlock],!e)throw'baseBlock "'+a.baseBlock+'" for "'+a.block+'" is undefined'}else e=a.baseBlock;if(l(b||(b={})),a.modName){var h=k(a.modName,a.modVal);f.each(b,function(a,c){g.isFunction(a)&&(b[c]=function(){var b;if(h(this))b=a;else{var d=e.prototype[c];d&&d!==a&&(b=this.__base)}return b?b.apply(this,arguments):m})})}if(d&&"boolean"==typeof d.live){var i=d.live;d.live=function(){return i}}var j,n=e;return a.baseMix&&(n=[n],a.baseMix.forEach(function(b){if(!q[b])throw'mix block "'+b+'" for "'+a.block+'" is undefined';n.push(q[b])})),a.block===e.getName()?(j=c.self(n,b,d))._processLive(!0):((j=q[a.block]=c(n,b,d))._name=a.block,delete j._liveInitable),j},declMix:function(a,b,d){return l(b||(b={})),q[a]=c(b,d)},_processLive:function(){return!1},create:function(a,b){return"string"==typeof a&&(a={block:a}),new q[a.block](a.mods,b)},getName:function(){return this._name},on:function(a,b,c){return"object"==typeof a&&(g.isFunction(b)||g.isFunction(c))&&(a=this._buildModEventName(a)),this.__base.apply(this,arguments)},un:function(a,b){return"object"==typeof a&&g.isFunction(b)&&(a=this._buildModEventName(a)),this.__base.apply(this,arguments)},_buildModEventName:function(a){var b=n+a.modName+n+(a.modVal===!1?"":a.modVal);return a.elem&&(b=o+a.elem+b),b},_extractElemNameFrom:function(){},_runInitFns:function(){if(p.length){var a,b=p,c=0;for(p=[];a=b[c];)a.call(b[c+1]),c+=2}}});a(r)}),modules.define("i-bem_provide_global",["i-bem"],function(a,b){this.global.BEM=b}),modules.define("jquery",function(a){a(jQuery)}),modules.define("dom",["jquery"],function(a,b){a({contains:function(a,b){var c=!1;return b.each(function(){var b=this;do if(~a.index(b))return!(c=!0);while(b=b.parentNode);return c}),c},getFocused:function(){try{return b(document.activeElement)}catch(a){}},containsFocus:function(a){return this.contains(a,this.getFocused())},isFocusable:function(a){var b=a[0];if(!b)return!1;if(b.hasAttribute("tabindex"))return!0;switch(b.tagName.toLowerCase()){case"iframe":return!0;case"input":case"button":case"textarea":case"select":return!b.disabled;case"a":return!!b.href}return!1},isEditable:function(a){var b=a[0];if(!b)return!1;switch(b.tagName.toLowerCase()){case"input":var c=b.type;return!("text"!==c&&"password"!==c||b.disabled||b.readOnly);case"textarea":return!b.disabled&&!b.readOnly;default:return"true"===b.contentEditable}}})}),modules.define("i-bem__dom",["i-bem","i-bem__internal","identify","objects","functions","jquery","dom"],function(a,b,c,d,e,f,g,h){function i(a,b){var c,d=a[0],e=m(d);for(c in e)j(c,a,k(e[c],c,b))}function j(a,b,c,d,f){var h=b[0];c||(c=k(n(h,a),a));var i=c.uniqId,j=v[i];if(j)return j.domElem.index(h)<0&&(j.domElem=j.domElem.add(b),e.extend(j.params,c)),j;u[i]=u[i]?u[i].add(b):b;var l=h.parentNode;l&&11!==l.nodeType||g.unique(u[i]);var m=A[a]||L.decl(a,{},{live:!0},!0);return!(m._liveInitable=!!m._processLive())||d||c.live===!1?(d&&b.addClass(B),j=new m(u[i],c,!!d),delete u[i],f&&f.apply(j,Array.prototype.slice.call(arguments,4)),j):void 0}function k(a,b,c){return a.uniqId||(a.uniqId=(a.id?b+"-id-"+a.id:d())+(c||d())),a}function l(a,b,c){var d=a.find(b);return c?d:d.add(a.filter(b))}function m(a){var b=d(a);return x[b]||(x[b]=o(a))}function n(a,b){var c=m(a);return c[b]||(c[b]={})}function o(a){var b=a.getAttribute(D);return b?JSON.parse(b):{}}function p(a,b){1===a.domElem.length?a._destruct():a.domElem=a.domElem.not(b)}function q(a){a.each(function(){w[d(this)]=this.parentNode})}var r,s=g(window),t=g(document),u={},v={},w={},x={},y={},z={},A=b.blocks,B="i-bem",C="."+B,D="data-bem",E=c.NAME_PATTERN,F=c.MOD_DELIM,G=c.ELEM_DELIM,H=RegExp("[^"+F+"]"+F+"("+E+")(?:"+F+"("+E+"))?$"),I=c.buildModPostfix,J=c.buildClass,K=Array.prototype.reverse,L=b.decl("i-bem__dom",{__constructor:function(a,b,c){this.domElem=a,this._eventNameCache={},this._elemCache={},this._uniqId=b.uniqId,v[this._uniqId]=this,this._needSpecialUnbind=!1,this.__base(null,b,c)},findBlocksInside:function(a,b){return this._findBlocks("find",a,b)},findBlockInside:function(a,b){return this._findBlocks("find",a,b,!0)},findBlocksOutside:function(a,b){return this._findBlocks("parents",a,b)},findBlockOutside:function(a,b){return this._findBlocks("closest",a,b)[0]||null},findBlocksOn:function(a,b){return this._findBlocks("",a,b)},findBlockOn:function(a,b){return this._findBlocks("",a,b,!0)},_findBlocks:function(a,b,c,d){c||(c=b,b=r);var e=b?"string"==typeof b?this.findElem(b):b:this.domElem,f="string"==typeof c,h=f?c:c.block||c.blockName,i="."+(f?J(h):J(h,c.modName,c.modVal))+(d?":first":""),k=e.filter(i);if(a&&(k=k.add(e[a](i))),d)return k[0]?j(h,k.eq(0),r,!0)._init():null;var l=[],m={};return k.each(function(a,b){var c=j(h,g(b),r,!0)._init();m[c._uniqId]||(m[c._uniqId]=!0,l.push(c))}),l},bindToDomElem:function(a,b,c,d){return f.isFunction(c)&&(d=c,c=r),d?a.bind(this._buildEventName(b),c,g.proxy(d,this)):e.each(b,function(b,d){this.bindToDomElem(a,d,c,b)},this),this},bindToDoc:function(a,b,c){return this._needSpecialUnbind=!0,this.bindToDomElem(t,a,b,c)},bindToWin:function(a,b,c){return this._needSpecialUnbind=!0,this.bindToDomElem(s,a,b,c)},bindTo:function(a,b,c,d){var e=arguments.length;return 3===e?f.isFunction(c)&&(d=c,"object"==typeof b&&(c=b,b=a,a=this.domElem)):2===e?f.isFunction(b)?(d=b,b=a,a=this.domElem):"string"==typeof a||a instanceof g||(c=b,b=a,a=this.domElem):1===e&&(b=a,a=this.domElem),"string"==typeof a&&(a=this.elem(a)),this.bindToDomElem(a,b,c,d)},unbindFromDomElem:function(a,b,c){return"string"==typeof b?(b=this._buildEventName(b),c?a.unbind(b,c):a.unbind(b)):e.each(b,function(b,c){this.unbindFromDomElem(a,c,b)},this),this},unbindFromDoc:function(a,b){return this.unbindFromDomElem(t,a,b)},unbindFromWin:function(a,b){return this.unbindFromDomElem(s,a,b)},unbindFrom:function(a,b,c){var d=arguments.length;return 1===d?(b=a,a=this.domElem):2===d&&f.isFunction(b)?(c=b,b=a,a=this.domElem):"string"==typeof a&&(a=this.elem(a)),this.unbindFromDomElem(a,b,c)},_buildEventName:function(a){return a.indexOf(" ")>1?a.split(" ").map(function(a){return this._buildOneEventName(a)},this).join(" "):this._buildOneEventName(a)},_buildOneEventName:function(a){var b=this._eventNameCache;if(a in b)return b[a];var c="."+this._uniqId;if(a.indexOf(".")<0)return b[a]=a+c;var d=".bem_"+this.__self._name;return b[a]=a.split(".").map(function(a,b){return 0===b?a+d:d+"_"+a}).join("")+c},_ctxEmit:function(a,b){this.__base.apply(this,arguments);var c=this,f=y[c.__self._buildCtxEventName(a.type)],g={};f&&c.domElem.each(function(h,i){for(var j=f.counter;i&&j;){var k=d(i,!0);if(k){if(g[k])break;var l=f.ctxs[k];l&&(e.each(l,function(d){d.fn.call(d.ctx||c,a,b)}),j--),g[k]=!0}i=i.parentNode||w[k]}})},setMod:function(a,b,c){if(a&&"undefined"!=typeof c&&a.length>1){var d=this;return a.each(function(){var e=g(this);e.__bemElemName=a.__bemElemName,d.setMod(e,b,c)}),d}return this.__base(a,b,c)},_extractModVal:function(a,b,c){var d,e=(b||this.domElem)[0];return e&&(d=e.className.match(this.__self._buildModValRE(a,c||b))),d?d[2]||!0:""},_extractMods:function(a,b){var c={},d=!a.length,e=0;return((b||this.domElem)[0].className.match(this.__self._buildModValRE("("+(d?E:a.join("|"))+")",b,"g"))||[]).forEach(function(a){var b=a.match(H);c[b[1]]=b[2]||!0,++e}),e<a.length&&a.forEach(function(a){a in c||(c[a]="")}),c},_onSetMod:function(a,b,c,d,e){if("js"!==a||""!==b){var f=this.__self,h=f._buildModClassPrefix(a,e),i=f._buildModValRE(a,e),j=""===b||b===!1;(d||this.domElem).each(function(){var a=this.className,d=h;b!==!0&&(d+=F+b),(c===!0?i.test(a):a.indexOf(h+F)>-1)?this.className=a.replace(i,j?"":"$1"+d):j||g(this).addClass(d)}),e&&this.dropElemCache(e,a,c).dropElemCache(e,a,b)}this.__base.apply(this,arguments)},findElem:function(a,b,c,d,e){"string"==typeof a&&(e=d,d=c,c=b,b=a,a=this.domElem),"boolean"==typeof c&&(e=c,c=r);var f=this.__self,g="."+b.split(" ").map(function(a){return f.buildClass(a,c,d)}).join(",."),h=l(a,g);return e?this._filterFindElemResults(h):h},_filterFindElemResults:function(a){var b=this.buildSelector(),c=this.domElem;return a.filter(function(){return c.index(g(this).closest(b))>-1})},_elem:function(a,b,c){var d,e=a+I(b,c);return(d=this._elemCache[e])||(d=this._elemCache[e]=this.findElem(a,b,c),d.__bemElemName=a),d},elem:function(a,b,c){if(b&&"string"!=typeof b)return b.__bemElemName=a,b;if(a.indexOf(" ")<0)return this._elem(a,b,c);var d=g([]);return a.split(" ").forEach(function(a){d=d.add(this._elem(a,b,c))},this),d},closestElem:function(a,b){return a.closest(this.buildSelector(b))},dropElemCache:function(a,b,c){if(a){var d=I(b,c);a.indexOf(" ")<0?delete this._elemCache[a+d]:a.split(" ").forEach(function(a){delete this._elemCache[a+d]},this)}else this._elemCache={};return this},elemParams:function(a){var b;return"string"==typeof a?(b=a,a=this.elem(a)):b=this.__self._extractElemNameFrom(a),o(a[0])[this.__self.buildClass(b)]||{}},elemify:function(a,b){return(a=g(a)).__bemElemName=b,a},containsDomElem:function(a,b){return 1===arguments.length&&(b=a,a=this.domElem),h.contains(a,b)},buildSelector:function(a,b,c){return this.__self.buildSelector(a,b,c)},_destruct:function(){var a=this,b=a.__self;a._needSpecialUnbind&&b.doc.add(b.win).unbind("."+a._uniqId),a.__base(),delete v[a.un()._uniqId]}},{scope:null,doc:t,win:s,_processLive:function(a){var b=this._liveInitable;if("live"in this){var c="undefined"==typeof b;if(c^a){b=this.live()!==!1;var d=this.getName(),e=this.live;this.live=function(){return this.getName()===d?b:e.apply(this,arguments)}}}return b},init:function(a){"string"==typeof a?a=g(a):a||(a=L.scope);var b=d();return l(a,C).each(function(){i(g(this),b)}),this._runInitFns(),a},destruct:function(a,b){var c;b?(q(c=a.children()),a.empty()):(q(c=a),a.remove()),K.call(l(c,C)).each(function(a,b){var c=m(b);e.each(c,function(a){if(a.uniqId){var c=v[a.uniqId];c?p(c,b):delete u[a.uniqId]}}),delete x[d(b)]}),w={}},update:function(a,b){return this.destruct(a,!0),this.init(a.html(b))},replace:function(a,b){var c=a.prev(),d=a.parent();return this.destruct(a),this.init(c.length?g(b).insertAfter(c):g(b).prependTo(d))},append:function(a,b){return this.init(g(b).appendTo(a))},prepend:function(a,b){return this.init(g(b).prependTo(a))},before:function(a,b){return this.init(g(b).insertBefore(a))},after:function(a,b){return this.init(g(b).insertAfter(a))},_buildCtxEventName:function(a){return this._name+":"+a},_liveClassBind:function(a,b,c,e){if(b.indexOf(" ")>-1)b.split(" ").forEach(function(b){this._liveClassBind(a,b,c,e)},this);else{var f=z[b],h=d(c);f||(f=z[b]={},L.scope.bind(b,g.proxy(this._liveClassTrigger,this))),f=f[a]||(f[a]={uniqIds:{},fns:[]}),h in f.uniqIds||(f.fns.push({uniqId:h,fn:this._buildLiveEventFn(c,e)}),f.uniqIds[h]=f.fns.length-1)}return this},_liveClassUnbind:function(a,b,c){var e=z[b];if(e)if(c){if(e=e[a]){var f=d(c);if(f in e.uniqIds){var g=e.uniqIds[f],h=e.fns.length-1;for(e.fns.splice(g,1);h>g;)e.uniqIds[e.fns[g++].uniqId]=g-1;delete e.uniqIds[f]}}}else delete e[a];return this},_liveClassTrigger:function(a){var b=z[a.type];if(b){var c=a.target,d=[];for(var e in b)d.push(e);do for(var f=" "+c.className+" ",h=0;e=d[h++];)if(f.indexOf(" "+e+" ")>-1){for(var i,j=0,k=b[e].fns,l=!1;i=k[j++];)i.fn.call(g(c),a)===!1&&(l=!0);if(l&&a.preventDefault(),l||a.isPropagationStopped())return;d.splice(--h,1)}while(d.length&&(c=c.parentNode))}},_buildLiveEventFn:function(a,b){var c=this;return function(d){d.currentTarget=this;var e=[c._name,g(this).closest(c.buildSelector()),r,!0],f=j.apply(null,b?e.concat([a,d]):e);return f&&!b&&a?a.apply(f,arguments):void 0}},liveInitOnEvent:function(a,b,c){return this.liveBindTo(a,b,c,!0)},liveBindTo:function(a,b,c,d){return(!b||f.isFunction(b))&&(c=b,b=a,a=r),a&&"string"!=typeof a||(a={elem:a}),a.elem&&a.elem.indexOf(" ")>0?(a.elem.split(" ").forEach(function(e){this._liveClassBind(this.buildClass(e,a.modName,a.modVal),b,c,d)},this),this):this._liveClassBind(this.buildClass(a.elem,a.modName,a.modVal),b,c,d)},liveUnbindFrom:function(a,b,c){return(!b||f.isFunction(b))&&(c=b,b=a,a=r),a&&a.indexOf(" ")>1?(a.split(" ").forEach(function(a){this._liveClassUnbind(this.buildClass(a),b,c)},this),this):this._liveClassUnbind(this.buildClass(a),b,c)},_liveInitOnBlockEvent:function(a,b,c,d){var e=this._name;return A[b].on(a,function(a){var b=arguments,f=a.target[d](e);c&&f.forEach(function(a){c.apply(a,b)})}),this},liveInitOnBlockEvent:function(a,b,c){return this._liveInitOnBlockEvent(a,b,c,"findBlocksOn")},liveInitOnBlockInsideEvent:function(a,b,c){return this._liveInitOnBlockEvent(a,b,c,"findBlocksOutside")},on:function(a,b,c,d,e){return"object"==typeof a&&a.jquery?this._liveCtxBind(a,b,c,d,e):this.__base(a,b,c,d)},un:function(a,b,c,d){return"object"==typeof a&&a.jquery?this._liveCtxUnbind(a,b,c,d):this.__base(a,b,c)},_liveCtxBind:function(a,b,c,g,h){if("object"==typeof b){if(!f.isFunction(c)&&!f.isFunction(g))return e.each(b,function(b,d){this._liveCtxBind(a,d,b,c)},this),this;b=this._buildModEventName(b)}if(f.isFunction(c)&&(h=g,g=c,c=r),b.indexOf(" ")>-1)b.split(" ").forEach(function(b){this._liveCtxBind(a,b,c,g,h)},this);else{var i=this._buildCtxEventName(b),j=y[i]||(y[i]={counter:0,ctxs:{}});a.each(function(){var a=d(this),b=j.ctxs[a];b||(b=j.ctxs[a]={},++j.counter),b[d(g)+(h?d(h):"")]={fn:g,data:c,ctx:h}})}return this},_liveCtxUnbind:function(a,b,c,g){"object"==typeof b&&f.isFunction(c)&&(b=this._buildModEventName(b));var h=y[b=this._buildCtxEventName(b)];return h&&(a.each(function(){var a,b=d(this,!0);b&&(a=h.ctxs[b])&&(c&&delete a[d(c)+(g?d(g):"")],(!c||e.isEmpty(a))&&(h.counter--,delete h.ctxs[b]))}),h.counter||delete y[b]),this},_extractElemNameFrom:function(a){if(a.__bemElemName)return a.__bemElemName;var b=a[0].className.match(this._buildElemNameRE());return b?b[1]:r},_buildModClassPrefix:function(a,b){return this._name+(b?G+("string"==typeof b?b:this._extractElemNameFrom(b)):"")+F+a},_buildModValRE:function(a,b,c){return new RegExp("(\\s|^)"+this._buildModClassPrefix(a,b)+"(?:"+F+"("+E+"))?(?=\\s|$)",c)},_buildElemNameRE:function(){return new RegExp(this._name+G+"("+E+")(?:\\s|$)")},buildClass:function(a,b,c){return J(this._name,a,b,c)},buildSelector:function(a,b,c){return"."+this.buildClass(a,b,c)}});g.fn.bem=function(a,b){return j(a,this,b,!0)._init()},g(function(){L.scope=g("body")}),a(L)}),function(){var a=modules.define;modules.define=function(b,c){a.apply(modules,arguments),"i-bem__dom_init"!==b&&arguments.length>2&&~c.indexOf("i-bem__dom")&&modules.define("i-bem__dom_init",[b],function(a,b,c){a(c)})}}(),modules.define("i-bem__dom_provide_global",["i-bem__dom"],function(a,b){this.global.BEM.DOM=b}),modules.define("i-bem__dom_init",["i-bem__dom"],function(a,b){a(function(a){return b.init(a)})}),modules.require(["i-bem__dom_init","jquery","next-tick"],function(a,b,c){b(function(){c(a)})}),function(a){delete a.modules}(this);